<head>
	<link rel="stylesheet" href="/apps/ckeditor/contents.css">
</head>
<body>
	<h1>Classic editor</h1>

	<div id="classic">
		<p>Widget without caption:</p>
		<figure>
			<img src="../../../image2/_assets/foo.png" alt="foo">
		</figure>

		<p>Widget with caption:</p>
		<figure>
			<img src="../../../image2/_assets/foo.png" alt="foo">
			<figcaption>Test caption</figcaption>
		</figure>
	</div>

	<h1>Divarea</h1>

	<div id="divarea">
		<p>Widget without caption:</p>
		<figure>
			<img src="../../../image2/_assets/foo.png" alt="foo">
		</figure>

		<p>Widget with caption:</p>
		<figure>
			<img src="../../../image2/_assets/foo.png" alt="foo">
			<figcaption>Test caption</figcaption>
		</figure>
	</div>

	<script>
		var cfg = {
			on: {
				pluginsLoaded: function( evt ) {
					var editor = evt.editor,
						imageBase = CKEDITOR.plugins.imagebase;

					imageBase.addImageWidget( editor, 'testWidget', imageBase.addFeature( editor, 'caption', {} ) );
				}
			},
			height: 500
		};

		CKEDITOR.replace( 'classic', cfg );
		CKEDITOR.replace( 'divarea', CKEDITOR.tools.object.merge( cfg, { extraPlugins: 'divarea' } ) );
	</script>
</body>
